import{w as u,c as k}from"./js/_plugin-vue_export-helper.BLXtEB-G.js";import{c as L,b as M}from"./js/vue-router.DOaapPxo.js";import{e as h,l as C}from"./js/index.DQR9DFri.js";import{l as P}from"./js/index.CdwEuUIl.js";import{b as v,B as R,l as B,O as T}from"./js/links.C572zDFG.js";import{j as V,m as j,t as F,T as U}from"./js/postSlug.CtHxoMEa.js";import{d as g,a as q}from"./js/Caret.CGwYaMo_.js";import{i as O}from"./js/isEqual.6YJSJDqn.js";import{_ as W}from"./js/default-i18n.Bd0Z306Z.js";import{l as N}from"./js/index.3BJ3ZnWB.js";import{g as x,o as s,c,a as w,B as f,aa as D,u as n,t as z,b as p,ak as I,k as y,l as G,af as H,h as Q}from"./js/runtime-core.esm-bundler.DMBo7TXk.js";import{M as J}from"./js/Modal.o-8NP3kI.js";import{_ as K}from"./js/ScoreButton.CBnVDJ-P.js";import{S as b}from"./js/LogoGear.DKfym1nW.js";import"./js/translations.Buvln_cw.js";import"./js/constants.B6ynd7gz.js";import"./js/helpers.D5tYIqKS.js";import"./js/metabox.CE2B6Dot.js";import"./js/cleanForSlug.DjsajR64.js";import"./js/toString.CkyAieyd.js";import"./js/_baseTrim.BYZhh0MR.js";import"./js/_stringToArray.DnK4tKcY.js";import"./js/_baseSet.SHpzr1A5.js";import"./js/_baseIsEqual.8qmZqLuw.js";import"./js/_getTag.Dxs-K0Yj.js";import"./js/App.CNjKBRSA.js";/* empty css                */import"./js/allowed.DI27y-Lv.js";import"./js/params.B3T1WKlC.js";import"./js/SettingsRow.BzmNmU2T.js";import"./js/Row.CHjKxnPP.js";import"./js/Checkbox.CxE2HV-P.js";import"./js/Checkmark.DL3UTTgg.js";import"./js/ScrollAndHighlight.BJMBF74G.js";import"./js/Tabs.C-PQxwBC.js";import"./js/TruSeoScore.TjofuHRQ.js";import"./js/Ellipse.CAgnKuMU.js";import"./js/Information.JAmX9TGg.js";import"./js/Slide.D2pWF0rN.js";import"./js/Index.CgBueMQV.js";import"./js/Settings.IDjFfO4e.js";import"./js/MaxCounts.DHV7qSQX.js";import"./js/Tags.D1_s1xAA.js";import"./js/debounce.D8CddFbI.js";import"./js/toNumber.BuBWCMcL.js";import"./js/toFinite.D0kOmx_O.js";import"./js/Tooltip.CRFjFnpF.js";import"./js/Plus.iqCbU08m.js";import"./js/Eye.D4LLkyJX.js";import"./js/RadioToggle.CODR8har.js";import"./js/GoogleSearchPreview.DQIVXQEq.js";import"./js/HtmlTagsEditor.BQtOQ8ni.js";import"./js/Editor.DxKrKvK1.js";import"./js/_baseClone.Zn5yUk9p.js";import"./js/_arrayEach.Fgt6pfHj.js";import"./js/UnfilteredHtml.C9zHp9e0.js";import"./js/ProBadge.Bm930amZ.js";import"./js/popup.6pJEdp0g.js";import"./js/license.w8vDmkyH.js";import"./js/upperFirst.BGtMw2rr.js";import"./js/addons.tTxptju5.js";import"./js/Blur.tZiC08Rv.js";import"./js/Index.fxoyLS1r.js";import"./js/WpTable.DQTWb3IZ.js";import"./js/Table.BK8hMu3L.js";import"./js/numbers.zAmItkHM.js";import"./js/PostTypes.Cef6XkQ_.js";import"./js/InternalOutbound.DZ80pFZE.js";import"./js/RequiredPlans.CWb7CJDQ.js";import"./js/Image.CAgT8cKC.js";import"./js/FacebookPreview.efTXJQe6.js";import"./js/Img.D1d3ge3U.js";import"./js/Profile.blAmV54p.js";import"./js/ImageUploader.Bd5ae9U1.js";import"./js/TwitterPreview.B39CbiNF.js";import"./js/Book.DaIhDiml.js";import"./js/Build.C1ElmolC.js";import"./js/Redirects.CLdR6VZR.js";import"./js/Index.N3ar3q9e.js";import"./js/JsonValues.D25FTfEu.js";import"./js/External.1pzVM6vX.js";import"./js/escapeRegExp.BzEGgRdT.js";import"./js/Exclamation.Dk_xiOnS.js";import"./js/Gear.Big5c48d.js";import"./js/Date.7QFk4W6o.js";import"./js/DatePicker.zmGSzhsH.js";import"./js/pick.DnO1wEct.js";import"./js/Card.CuS1kKeW.js";import"./js/Upsell.D6CKwviy.js";let S={};const X=()=>{const o={...S},t=V();O(o,t)||(S=t,j())},Y=()=>{const o=v();o.saveCurrentPost(o.currentPost).then(()=>{R().fetch()})},Z=()=>{var e;const{vc:o,vc_mode:t}=window;return t==="admin_frontend_editor"?o.builder.getContent():((e=document.querySelector("#content"))==null?void 0:e.value)||""},l=async()=>{v().processContent({content:Z()}).finally(()=>{X()})},tt=({vc:o})=>{l(),o.events.on("shortcodeView:updated",()=>{g(l,1e3)}),o.shortcodes.on("sync",()=>{g(l,1e3)}),["#vc_button-update","#vc_button-save-draft","#vc_button-save-as-pending"].forEach(t=>{var e;(e=document.querySelector(t))==null||e.addEventListener("click",Y)})},ot={class:"aioseo-limit-modified-date-wpbakery"},et={key:0,class:"aioseo-limit-modified-date-wpbakery__options"},rt={__name:"App",props:{buttonTitle:String,buttonEvent:String},setup(o){const t=x(!1),e=o,a=()=>{t.value=!1,h.emit(e.buttonEvent)};return(i,m)=>(s(),c("div",ot,[w("div",{class:"aioseo-limit-modified-date-wpbakery__toggle",onClick:m[0]||(m[0]=u(d=>t.value=!t.value,["prevent"]))},[f(n(q),{class:D({rotated:t.value})},null,8,["class"])]),t.value?(s(),c("div",et,[w("div",{class:"aioseo-limit-modified-date-wpbakery__option",onClick:u(a,["prevent"])},z(e.buttonTitle),1)])):p("",!0)]))}},r={id:"aioseo-limit-modified-date-wpbakery",param:"aioseo_limit_modified_date",event:"save-limit-modified-date",title:W("Update (Don't Modify Date)","all-in-one-seo-pack"),flag:!1},_=()=>document.getElementById("vc_button-update"),it=()=>{if(document.getElementById(r.id))return;const o=document.createElement("div");o.id=r.id,_().insertAdjacentElement("afterend",o);let t=k({...rt,name:"Standalone/WPBakery/LimitModifiedDate"},{buttonTitle:r.title,buttonEvent:r.event});t=C(t),t=P(t),t=N(t),B(t),t.mount(`#${r.id}`)},nt=o=>{o(document).on("ajaxSend",function(t,e,a){const i=new URLSearchParams(a.data);i.get("action")!=="vc_save"||!r.flag||(i.set(r.param,!0),a.data=i.toString())}),h.on(r.event,()=>{r.flag=!0,_().click(),setTimeout(()=>{r.flag=!1})})},st=({jQuery:o})=>{_()&&(it(),nt(o))},at={class:"aioseo-wpbakery-integration"},mt={key:2,class:"aioseo-gear-icon"},E={__name:"App",props:{isFrontendEditor:Boolean},setup(o){const t=x(!1),{currentPost:e}=T(v());return(a,i)=>{const m=I("scroll-to");return s(),c("div",at,[o.isFrontendEditor?(s(),y(n(K),{key:0,"show-score":n(F)(),score:n(e).seo_score,class:D([t.value?"aioseo-score-button--active":""]),onClick:i[0]||(i[0]=u(d=>t.value=!t.value,["prevent"]))},{icon:G(()=>[f(n(b))]),_:1},8,["show-score","score","class"])):p("",!0),o.isFrontendEditor?(s(),y(J,{key:1,score:n(e).seo_score,"is-open":t.value,"onUpdate:isOpen":i[1]||(i[1]=d=>t.value=d)},null,8,["score","is-open"])):p("",!0),o.isFrontendEditor?p("",!0):H((s(),c("div",mt,[f(n(b))])),[[m,{el:"#aioseo-settings",offset:-150}]])])}}},{vc:pt}=window,ct=()=>{const{vc_mode:o}=window,t=L({history:M(),routes:[{path:"/",component:E}]});let e=k({name:"Standalone/WPBakery",data(){return{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"}},render:()=>Q(E)},{isFrontendEditor:o==="admin_frontend_editor"});e=C(e),e=P(e),e.use(t),t.app=e,B(e,t),e.config.globalProperties.$truSeo=new U,e.mount("#aioseo-wpbakery")},A=()=>{ct(),tt(window),st(window)};let $=!1;pt.events.on("app.render",()=>{A(),$=!0});window.addEventListener("load",()=>{$||A()});
